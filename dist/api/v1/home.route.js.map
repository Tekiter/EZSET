{"version":3,"sources":["../../../src/api/v1/home.route.js"],"names":["router","get","req","res","content","json","patch","isString","validateParams","body","end"],"mappings":";;;;;;AAAA;;AACA;;AACA;;AAEA;;AAEA,MAAMA,SAAS,sBAAf;;AAEA;;;;;;;;;;;;AALA;AAgBAA,OAAOC,GAAP,CACI,SADJ,EAEI,EAFJ,EAGI,qBAAW,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC3B,UAAMC,UAAU,MAAM,uBAAU,mBAAV,EAA+B,EAA/B,CAAtB;AACAD,QAAIE,IAAJ,CAAS,EAAED,OAAF,EAAT;AACH,CAHD,CAHJ;;AASA;;;;;;;;;AASAJ,OAAOM,KAAP,CACI,SADJ,EAEI;AACI;AACA,4BAAK,SAAL,EAAgBC,QAAhB,EAFJ,EAGIC,mBAHJ,CAFJ,EAOI,qBAAW,OAAON,GAAP,EAAYC,GAAZ,KAAoB;AAC3B,UAAM,uBAAU,mBAAV,EAA+BD,IAAIO,IAAJ,CAASL,OAAxC,CAAN;;AAEAD,QAAIO,GAAJ;AACH,CAJD,CAPJ;;kBAceV,M","file":"home.route.js","sourcesContent":["import { Router } from 'express'\nimport { asyncRoute, validateParams } from '../../utils/api'\nimport { getConfig, setConfig } from '../../utils/config'\n// import { perm } from '../../utils/role'\nimport { body } from 'express-validator'\n\nconst router = Router()\n\n/**\n * @api {get} /home/simple Simple 홈 화면\n * @apiDescription Simple 홈 화면의 내용을 가져옴\n * @apiName ViewSimpleHome\n * @apiGroup Home\n * @apiSuccess {Number} 200\n *\n * @apiSuccessExample {json} Success-Response:\n *      HTTP/1.1 200 OK\n *      {\"content\":\"홈화면 내용\"}\n */\nrouter.get(\n    '/simple',\n    [],\n    asyncRoute(async (req, res) => {\n        const content = await getConfig('homeSimpleContent', '')\n        res.json({ content })\n    })\n)\n\n/**\n * @api {patch} /home/simple Simple 홈 화면 변경\n * @apiDescription Simple 홈 화면의 내용을 변경\n * @apiName EditSimpleHome\n * @apiGroup Home\n * @apiParam {String} content 바꿀 홈 화면의 내용\n * @apiParamExample {json} Request-Example:\n * {\"content\":\"홈화면 내용\"}\n */\nrouter.patch(\n    '/simple',\n    [\n        // perm('manageHome').can('update'),\n        body('content').isString(),\n        validateParams,\n    ],\n    asyncRoute(async (req, res) => {\n        await setConfig('homeSimpleContent', req.body.content)\n\n        res.end()\n    })\n)\n\nexport default router\n"]}